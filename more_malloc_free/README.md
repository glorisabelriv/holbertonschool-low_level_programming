Working C- more malloc, free
